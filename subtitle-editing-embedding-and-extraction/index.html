<!DOCTYPE html><html lang="bg"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Вграждане, редакция и извличане на субтитри - Портфолио на Калоян</title><meta name="description" content="Субтитри! Не винаги разполагаме с дублаж, а и не винаги го предпочитаме,&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://kaloyan-projects.github.io/subtitle-editing-embedding-and-extraction/"><link rel="alternate" type="application/atom+xml" href="https://kaloyan-projects.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://kaloyan-projects.github.io/feed.json"><meta property="og:title" content="Вграждане, редакция и извличане на субтитри"><meta property="og:image" content="https://kaloyan-projects.github.io/media/posts/13/post-thumbnail-5.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="900"><meta property="og:site_name" content="Портфолио на Калоян"><meta property="og:description" content="Субтитри! Не винаги разполагаме с дублаж, а и не винаги го предпочитаме,&hellip;"><meta property="og:url" content="https://kaloyan-projects.github.io//subtitle-editing-embedding-and-extraction/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://kaloyan-projects.github.io/media/website/favicon.png" type="image/png"><link rel="preload" href="https://kaloyan-projects.github.io/assets/dynamic/fonts/sofiasans/sofiasans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://kaloyan-projects.github.io/assets/css/style.css?v=c45e6b33507293857eaee454713782c2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://kaloyan-projects.github.io/subtitle-editing-embedding-and-extraction/"},"headline":"Вграждане, редакция и извличане на субтитри","datePublished":"2024-10-02T17:03","dateModified":"2024-10-03T10:47","image":{"@type":"ImageObject","url":"https://kaloyan-projects.github.io/media/posts/13/post-thumbnail-5.png","height":900,"width":1200},"description":"Субтитри! Не винаги разполагаме с дублаж, а и не винаги го предпочитаме,&hellip;","author":{"@type":"Person","name":"Калоян","url":"https://kaloyan-projects.github.io/authors/kaloyan/"},"publisher":{"@type":"Organization","name":"Калоян","logo":{"@type":"ImageObject","url":"https://kaloyan-projects.github.io/media/website/logo-2.svg","height":604,"width":1392}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><header class="header" id="js-header"><a href="https://kaloyan-projects.github.io/" class="logo"><img src="https://kaloyan-projects.github.io/media/website/logo-2.svg" alt="Портфолио на Калоян" width="1392" height="604"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Меню"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Меню</span></span></button><ul class="navbar__menu"><li><a href="https://kaloyan-projects.github.io/" target="_self">Начало / Homepage</a></li><li><a href="https://kaloyan-projects.github.io/gallery/" target="_self">Галерия / Gallery</a></li><li class="has-submenu"><a href="https://kaloyan-projects.github.io/animations/" target="_self" aria-haspopup="true">Други / Other</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://kaloyan-projects.github.io/animations/" target="_self">Анимации / Animations</a></li><li><a href="https://kaloyan-projects.github.io/programming/" target="_self">Програмиране / Programming</a></li><li><a href="https://kaloyan-projects.github.io/music/" target="_self">Музика / Music</a></li></ul></li><li><a href="https://kaloyan-projects.github.io/about-me/" target="_self">За мен / About me</a></li></ul></nav></header><main class="post"><div class="banner banner--before-content"><p class="msg msg--info" id="langlink">If you see this, JS is not enabled or I am a bad programmer. :(</p><script>var currentURL = window.location.href;
    
    if(currentURL.slice(-3)=="-2/") {
    	document.getElementById("langlink").innerHTML = 
    "<a href=\"" + currentURL.replace("-2/", "/") + "\">Натиснете тук</a>, за да видите поста на български.";
    } else {
    	document.getElementById("langlink").innerHTML = "<a href=\"" + currentURL.replace(/.$/, "") + "-2/" + "\">Click here</a> to view this post in English.";
    }</script></div><article class="content wrapper"><header class="hero"><p class="content__meta">От <a href="https://kaloyan-projects.github.io/authors/kaloyan/" rel="author" title="Калоян">Калоян</a> Публикувано на <time datetime="2024-10-02T17:03">02.10.2024</time></p><h1 class="content__title">Вграждане, редакция и извличане на субтитри</h1></header><figure class="content__featured-image post__image--normal"><img src="https://kaloyan-projects.github.io/media/posts/13/post-thumbnail-5.png" loading="eager" height="900" width="1200" alt=""></figure><div class="content__entry"><p>Субтитри! Не винаги разполагаме с дублаж, а и не винаги го предпочитаме, затова понякога се налага да четем субтитри. Но ако няма, как може да си направим? А ако имат грешки и трябва да ги поправим? Нека да разгледаме.</p><h1>Субтитрови формати</h1><p>Има няколко преобладаващи формати при субтитрите, в зависимост от това, което целим с тях.</p><h3>SRT</h3><p>Този формат поддържа най-основно форматиране на текста, като позволява той да бъде наклонен, удебелен, подчетран и да се определи мястото му и шрифта му. SRT форматът запазва субтитрите по много прост начин. Започва с поредния им номер, на следващия ред – времето на появяване и скриване, и след това – самите субтитри. Изглежда по следния начин:</p><pre class="language-markdown line-numbers"><code>1
00:00:27,533 --&gt; 00:00:28,766
Това са първите субтитри

2
00:00:29,233 --&gt; 00:00:29,966
Това са вторите субтитри
и са на два реда

3
00:00:30,933 --&gt; 00:00:31,266
&lt;i&gt;Тези субтитри са наклонени&lt;/i&gt;

4
00:00:32,533 --&gt; 00:00:34,433
&lt;b&gt;А тези са удебелени&lt;/b&gt;</code></pre><h3>ASS</h3><p>ASS форматът поддържа по-сложно форматиране на субтитрите: могат да се анимират, оцветяват, подрязват с маска (която също може да се анимира), да се създават различни стилове и още. За да се възползвате напълно от възможностите на формата, трябва да можете повече от писане на текст. Някои автори даже анимират субтитрите да следват движението на обекти във видеото, за да се създаде илюзията, че текстът е част от самото видео.</p><pre class="language-ini line-numbers"><code>[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:14.44,0:00:18.18,Default,,0,0,0,,{\K34}След {\K34}300 {\K23}ме{\K21}тра
Dialogue: 0,0:00:18.18,0:00:21.86,Default,,0,0,0,,{\K16}За{\K23}вий{\K16}те {\K13}на{\K16}ля{\K16}во
Dialogue: 0,0:00:21.86,0:00:25.59,Default,,0,0,0,,{\kf28}Пос{\kf24}ле
Dialogue: 0,0:00:25.59,0:00:29.90,Default,,0,0,0,,{\K18}Ще {\K66}пристигнете {\K15}на {\K92}местоназначението {\K16}си</code></pre><h1>Писане на субтитри</h1><p>Има различни програми за редакция на субтитри. Ще разгледаме Aegisub, безплатна програма с отворен код. Има три главни части на интерфейса: Превюто на видеото, визуализация на аудиото и, най-отдолу, субтитрите. Може да избирате различен размер на превюто на видеото. За да се запазят промените над субтитрите, трябва да ги приложите. Вляво са инструментите за трансформация (местене, въртене, накланяне и подрязване) на субтитрите. Може да превъртате между кадрите със стрелките наляво и надясно. С <em><strong>Ctrl+3</strong></em> и <em><strong>Ctrl+4</strong></em> задавате началото или края на субтитрите на текущия кадър. Когато сте в аудио прозореца, ляв бутон на мишката задава началото на субтитрите, десен бутон – края, а среден бутон (колелцето) превърта до съответния момент в записа. Когато сме готови, можем да експортираме субтитрите в SRT, ASS, SUB и други формати.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/13/Snimka-ot-2024-10-02-18-10-31.png" alt="" width="1115" height="563"><figcaption>Редактиране на субтитри в Aegisub</figcaption></figure><p>Все пак не е необходимо да използваме специализирана програма, за да правим субтитри. Програми за видео редакция като Kdenlive също имат такава функционалност, макар и по-ограничена. Но ако искаме само да преведем реч, това е повече от достатъчно. Освен това, отскоро Kdenlive поддържа множество пътечки за субтитри. За да добавите субтитри, отидете в <em><strong>View &gt; Subtitles</strong></em>. Това ще отвори панела за субтитри, ако вече не е отворен. Оттам може да добавяте субтитри с "+" бутона. За да експортирате субтитрите, отидете в <em><strong>Project &gt; Subtitles &gt; Export Subtitle File…</strong></em> С Kdenlive може да експортираме само SRT файл, но в много случаи това е достатъчно.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/13/Snimka-ot-2024-10-02-18-03-08.png" alt="" width="694" height="460"><figcaption>Редактиране на субтитри в Kdenlive</figcaption></figure><h1>Начини на вграждане на субтитри</h1><p>Субтитрите ни са готови, но ако искаме да ги видим, трябва всеки път да ги избираме ръчно. Щеше да е много по-лесно ако вече имаше пътечка със субтитри в самото видео. Един видео контейнер е комбинация от различни данни: може да съдържа множество видео пътечки, аудио пътечки и пътечки за субтитри. Ако добавим субтитрите директно в контейнера, няма да има нужда да ги избираме ръчно при отваряне на видеото.</p><p>За да го постигнем, можем да ползваме програма като HandBrake, или даже инструменти за командния ред като FFmpeg. В HandBrake можем просто да изберем "Отвори източник" и после да отидем в Субтитри &gt; Tracks &gt; Add New Track. Оттам избираме език, кодировка на текста и файл, от който да бъдат заредени.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/13/Snimka-ot-2024-10-02-18-45-45.png" alt="" width="1075" height="528"><figcaption>Вграждане на субтитри с HandBrake</figcaption></figure><p>С FFmpeg можем да използваме следната команда:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -i subtitles.srt -c copy -c:s mov_text my_video_with_subtitles.mp4</code></pre><p>Можем да добавим информация за езика на субтитрите ако уточним:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -i subtitles.srt -c:a copy -c:v copy -c:s mov_text -metadata:s:s:0 language=bul my_video_with_subtitles.mp4</code></pre><p>Има и втори начин на вграждане, при който субтитрите се растеризират и стават неотделима част от видеото – тогава не могат да се изключат. Може да се използва само когато няма да превеждаме видеото и на други езици. За да го направим в Kdenlive, просто трябва да оставим пътечката за субтитри видима при експортиране на видеото. Тогава те ще останат видими при рендериране. С HandBrake може да отметнем кутийката "Burn into video" когато добавяме пътечка. А с FFmpeg ползваме следната команда:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -vf "subtitles=subtitles.srt" my_video_with_subtitles.mp4</code></pre><h1>Извличане на субтитри от видео</h1><p>С FFmpeg може да извлечем субтитри от видеото със следната команда:</p><pre class="language-bash line-numbers"><code>ffmpeg -i video_with_subtitles.mp4 -map 0:s:0 subtitles.srt</code></pre><p>След това може да отворим файла и да го редактираме с Aegisub или друга програма, както е показано по-горе.</p><p> </p></div><footer class="content__footer"><div class="content__last-updated">Последно актуализиран на 03.10.2024</div><div class="content__footer__col"><ul class="content__tag"><li><a href="https://kaloyan-projects.github.io/tags/video-editing/">Видео редакция</a></li><li><a href="https://kaloyan-projects.github.io/tags/languages/">Езици</a></li><li><a href="https://kaloyan-projects.github.io/tags/translation/">Превод</a></li><li><a href="https://kaloyan-projects.github.io/tags/subtitles/">Субтитри</a></li><li><a href="https://kaloyan-projects.github.io/tags/handbrake/">HandBrake</a></li><li><a href="https://kaloyan-projects.github.io/tags/kdenlive/">Kdenlive</a></li></ul><div class="content__share"></div></div><nav class="content__nav"><div class="content__nav__prev">Предишен пост<h5><a href="https://kaloyan-projects.github.io/raster-and-vector-graphics/" class="invert" rel="prev">Растерни и векторни изображения</a></h5></div><div class="content__nav__next">Следващ пост<h5><a href="https://kaloyan-projects.github.io/blender-geometry-nodes/" class="invert" rel="next">Геометрични нодове в Blender</a></h5></div></nav></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div><div class="footer__social"><a href="https://www.youtube.com/@kaloyan-projects" class="youtube" aria-label="Youtube"><svg class="icon"><use xlink:href="https://kaloyan-projects.github.io/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script defer="defer" src="https://kaloyan-projects.github.io/assets/js/scripts.min.js?v=4268bfae06e330d473c424d50f09abda"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>