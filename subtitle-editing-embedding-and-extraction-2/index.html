<!DOCTYPE html><html lang="bg"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Embedding, editing and extracting subtitles - Портфолио на Калоян</title><meta name="description" content="Subtitles! When dubs aren't avaliable (or ideal), that's our fallback. But are&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://kaloyan-projects.github.io/subtitle-editing-embedding-and-extraction-2/"><link rel="alternate" type="application/atom+xml" href="https://kaloyan-projects.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://kaloyan-projects.github.io/feed.json"><meta property="og:title" content="Embedding, editing and extracting subtitles"><meta property="og:image" content="https://kaloyan-projects.github.io/media/posts/14/post-thumbnail-5.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="900"><meta property="og:site_name" content="Портфолио на Калоян"><meta property="og:description" content="Subtitles! When dubs aren't avaliable (or ideal), that's our fallback. But are&hellip;"><meta property="og:url" content="https://kaloyan-projects.github.io//subtitle-editing-embedding-and-extraction-2/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://kaloyan-projects.github.io/media/website/favicon.png" type="image/png"><link rel="preload" href="https://kaloyan-projects.github.io/assets/dynamic/fonts/sofiasans/sofiasans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://kaloyan-projects.github.io/assets/css/style.css?v=c45e6b33507293857eaee454713782c2"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://kaloyan-projects.github.io/subtitle-editing-embedding-and-extraction-2/"},"headline":"Embedding, editing and extracting subtitles","datePublished":"2024-10-02T20:10","dateModified":"2024-10-03T10:46","image":{"@type":"ImageObject","url":"https://kaloyan-projects.github.io/media/posts/14/post-thumbnail-5.png","height":900,"width":1200},"description":"Subtitles! When dubs aren't avaliable (or ideal), that's our fallback. But are&hellip;","author":{"@type":"Person","name":"Калоян","url":"https://kaloyan-projects.github.io/authors/kaloyan/"},"publisher":{"@type":"Organization","name":"Калоян","logo":{"@type":"ImageObject","url":"https://kaloyan-projects.github.io/media/website/logo-2.svg","height":604,"width":1392}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><header class="header" id="js-header"><a href="https://kaloyan-projects.github.io/" class="logo"><img src="https://kaloyan-projects.github.io/media/website/logo-2.svg" alt="Портфолио на Калоян" width="1392" height="604"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Меню"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Меню</span></span></button><ul class="navbar__menu"><li><a href="https://kaloyan-projects.github.io/" target="_self">Начало / Homepage</a></li><li><a href="https://kaloyan-projects.github.io/gallery/" target="_self">Галерия / Gallery</a></li><li class="has-submenu"><a href="https://kaloyan-projects.github.io/animations/" target="_self" aria-haspopup="true">Други / Other</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://kaloyan-projects.github.io/animations/" target="_self">Анимации / Animations</a></li><li><a href="https://kaloyan-projects.github.io/programming/" target="_self">Програмиране / Programming</a></li><li><a href="https://kaloyan-projects.github.io/music/" target="_self">Музика / Music</a></li></ul></li><li><a href="https://kaloyan-projects.github.io/about-me/" target="_self">За мен / About me</a></li></ul></nav></header><main class="post"><div class="banner banner--before-content"><p class="msg msg--info" id="langlink">If you see this, JS is not enabled or I am a bad programmer. :(</p><script>var currentURL = window.location.href;
    
    if(currentURL.slice(-3)=="-2/") {
    	document.getElementById("langlink").innerHTML = 
    "<a href=\"" + currentURL.replace("-2/", "/") + "\">Натиснете тук</a>, за да видите поста на български.";
    } else {
    	document.getElementById("langlink").innerHTML = "<a href=\"" + currentURL.replace(/.$/, "") + "-2/" + "\">Click here</a> to view this post in English.";
    }</script></div><article class="content wrapper"><header class="hero"><p class="content__meta">От <a href="https://kaloyan-projects.github.io/authors/kaloyan/" rel="author" title="Калоян">Калоян</a> Публикувано на <time datetime="2024-10-02T20:10">02.10.2024</time></p><h1 class="content__title">Embedding, editing and extracting subtitles</h1></header><figure class="content__featured-image post__image--normal"><img src="https://kaloyan-projects.github.io/media/posts/14/post-thumbnail-5.png" loading="eager" height="900" width="1200" alt=""></figure><div class="content__entry"><p>Subtitles! When dubs aren't avaliable (or ideal), that's our fallback. But are they made? Or how can they be fixed if they're broken? Let's take a look.</p><h1>Subtitle formats</h1><p>There are a couple prevailing formats we can choose from, depending on our goal.</p><h3>SRT</h3><p>This format supports basic text formatting, including italic, bold and underlined text, setting position and font. SRT saves subtitles in a very basic way. On the first line we have the ID (sequential number) of the subtitle, on the next – the timestamp, and lastly – the subtitles themselves. That's how they look like:</p><pre class="language-markdown line-numbers"><code>1
00:00:27,533 --&gt; 00:00:28,766
First subtitles

2
00:00:29,233 --&gt; 00:00:29,966
Second subtitles that
are on two lines

3
00:00:30,933 --&gt; 00:00:31,266
&lt;i&gt;Italic subtitles&lt;/i&gt;

4
00:00:32,533 --&gt; 00:00:34,433
&lt;b&gt;Bold subtitles&lt;/b&gt;</code></pre><h3>ASS</h3><p>The ASS format supports more advanced formatting: subtitles can be animated, colored, cut by a mask (that can also be animated), different styles can be defined, and more. To take advantage of all that, you'll have to do more than just write text. Some subtitle authors even track the motion of the subtitles to the motion of objects in a shot to create the illusion that they are a part of the video.</p><pre class="language-ini line-numbers"><code>[Events]
Format: Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text
Dialogue: 0,0:00:14.44,0:00:18.18,Default,,0,0,0,,{\K34}След {\K34}300 {\K23}ме{\K21}тра
Dialogue: 0,0:00:18.18,0:00:21.86,Default,,0,0,0,,{\K16}За{\K23}вий{\K16}те {\K13}на{\K16}ля{\K16}во
Dialogue: 0,0:00:21.86,0:00:25.59,Default,,0,0,0,,{\kf28}Пос{\kf24}ле
Dialogue: 0,0:00:25.59,0:00:29.90,Default,,0,0,0,,{\K18}Ще {\K66}пристигнете {\K15}на {\K92}местоназначението {\K16}си</code></pre><h1>Writing subtitles</h1><p>There are different programs for writing subtitles. We'll use Aegisub, a free, open source program. There are three main parts of the UI: The video preview, the audio view, and underneath – the subtitles. You can change the size of the video preview. You'll have to apply any changes or they'll be undone. On the left there are transformation tools (moving, rotating, skewing and masking) for the subtitles. You can switch between frames with the left and right arrow keys. With <em><strong>Ctrl+3</strong></em> and <em><strong>Ctrl+4</strong></em> you can set the beginning and ending time of the subtitles to the current frame. When you are in the audio panel, left-clicking sets the beginning time, right-clicking – the ending time, and middle-clicking (mouse wheel) skips to the corresponding time. When we're ready, we can export the subtitles as SRT, ASS, SUB and other formats.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/14/Snimka-ot-2024-10-02-18-10-31.png" alt="" width="1115" height="563"><figcaption>Editing subtitles in Aegisub</figcaption></figure><p>It's not necessary to use a program specialized for subtitling. Video editing software like Kdenlive also has this functionality, albeit more limited. But if we just want to translate speech, that's more than enough. Also, recently Kdenlive started supporting multiple subtitle tracks. To add subtitles, go to <em><strong>View &gt; Subtitles</strong></em>. That will open the subtitle panel, if it's not open already. From there we can add subtitles with the "+" button. To export the subtitles, go to <em><strong>Project &gt; Subtitles &gt; Export Subtitle File…</strong></em> With Kdenlive we can export only in SRT, but in most cases that's all we need.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/14/Snimka-ot-2024-10-02-18-03-08.png" alt="" width="694" height="460"><figcaption>Editing subtitles in Kdenlive</figcaption></figure><h1>Embedding subtitles</h1><p>Our subtitles are ready, but if we want to see them, we have to manually add them each time. It would be much easier if we had the subtitles in the video itself. A video container holds different data: video tracks, audio tracks, subtitle tracks. If we add a subtitle track in the container, we won't need to manually open them when we play the video.</p><p>To achieve that we can use programs like HandBrake, or even command-line tools like FFmpeg. In HandBrake we can just click "Open source" and then go to Subtitles &gt; Tracks &gt; Add New Track. From there we choose a language, character code and a file, from which the subtitles should be loaded.</p><figure class="post__image"><img loading="lazy" src="https://kaloyan-projects.github.io/media/posts/14/Snimka-ot-2024-10-02-18-45-45.png" alt="" width="1075" height="528"><figcaption>Embedding subtitles with HandBrake</figcaption></figure><p>With FFmpeg we can use the following command:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -i subtitles.srt -c copy -c:s mov_text my_video_with_subtitles.mp4</code></pre><p>We can specify language information like so:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -i subtitles.srt -c:a copy -c:v copy -c:s mov_text -metadata:s:s:0 language=bul my_video_with_subtitles.mp4</code></pre><p>There's another way of inserting subtitles where they are rasterized and become an inseparable part of the video – then they can't be turned off. We can do that only if we don't plan on translating into more languages. To do this in Kdenlive, we just have to leave the subtitle track visible when exporting. Then it will remain visible in the final render. With HandBrake we only need to check "Burn into video" when adding a track. And with FFmpeg we use this command:</p><pre class="language-bash line-numbers"><code>ffmpeg -i my_video.mp4 -vf "subtitles=subtitles.srt" my_video_with_subtitles.mp4</code></pre><h1>Extracting subtitles from video</h1><p>With FFmpeg we can extract subtitles with this command:</p><pre class="language-bash line-numbers"><code>ffmpeg -i video_with_subtitles.mp4 -map 0:s:0 subtitles.srt</code></pre><p>Then we can open the file and edit it in Aegisub or any other program, as shown above.</p><p> </p></div><footer class="content__footer"><div class="content__last-updated">Последно актуализиран на 03.10.2024</div><div class="content__footer__col"><ul class="content__tag"><li><a href="https://kaloyan-projects.github.io/tags/video-editing/">Видео редакция</a></li><li><a href="https://kaloyan-projects.github.io/tags/languages/">Езици</a></li><li><a href="https://kaloyan-projects.github.io/tags/translation/">Превод</a></li><li><a href="https://kaloyan-projects.github.io/tags/subtitles/">Субтитри</a></li><li><a href="https://kaloyan-projects.github.io/tags/handbrake/">HandBrake</a></li><li><a href="https://kaloyan-projects.github.io/tags/kdenlive/">Kdenlive</a></li></ul><div class="content__share"></div></div></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div><div class="footer__social"><a href="https://www.youtube.com/@kaloyan-projects" class="youtube" aria-label="Youtube"><svg class="icon"><use xlink:href="https://kaloyan-projects.github.io/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script defer="defer" src="https://kaloyan-projects.github.io/assets/js/scripts.min.js?v=4268bfae06e330d473c424d50f09abda"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.navbar'};</script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://kaloyan-projects.github.io/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>